<!--
  Generated template for the PlaySongs page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <logo></logo>
    </ion-navbar>
</ion-header>


<ion-content padding>
    <div class="album-artwork"><img [src]="currentSong.album_artwork"></div>
    <div class="current-song-title">
        {{currentSong.title}}
    </div>
    <div class="current-song-artist">
        <span class="song-artist" *ngFor="let artist of currentSong.artists; let isLast=last">{{artist.name}}{{isLast ? '' : ', '}}</span>
    </div>

    <ion-range [(ngModel)]="singleValue" color="danger" pin="true"></ion-range>

    <div class="music-playback-controls">
        <button class="skip-backward" (click)="playPreviousSong()" [disabled]="!isPlaylist()" color="dark" clear ion-button>
        </button>
        <button class="play" *ngIf="playing == false" (click)="togglePlay()" class="play" ion-button color="dark" clear>
        </button>
        <button *ngIf="playing == true" (click)="togglePlay()" class="pause" ion-button color="dark" clear>
            <ion-icon name="pause"></ion-icon>
        </button>
        <button class="skip-forward" (click)="playNextSong()" ion-button [disabled]="!isPlaylist()" color="dark" clear>
        </button>
    </div>
    <ion-list *ngIf="isPlaylist()">
        <ion-item (click)="playSong(song); setCurrentSong(i);" class="song-wrapper" [ngClass]="{'current': currentIndex == i}" *ngFor="let song of songs; let i = index;">
            <img class="album-artwork-small" width="30px" [src]="song.album_artwork">
            <div class="song-info-wrapper">
                <div class="song-title">{{song.title}}</div>
                <div class="artist-wrapper">
                    <span class="song-artist" *ngFor="let artist of song.artists; let isLast=last">{{artist.name}}{{isLast ? '' : ', '}}</span>
                </div>
            </div>
        </ion-item>
    </ion-list>
</ion-content>